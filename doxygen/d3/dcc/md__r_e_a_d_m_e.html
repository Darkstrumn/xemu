<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xemu ~ source level documentation: X-Emulators ~ &quot;Xemu&quot;</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../xemu-48x48.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xemu ~ source level documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">X-Emulators ~ "Xemu" </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/lgblgblgb/xemu"><object type="image/svg+xml" data="https://api.travis-ci.org/lgblgblgb/xemu.svg?branch=master" style="pointer-events: none;">Build Status</object></a> <a href="https://gitter.im/lgblgblgb/xemu"><object type="image/svg+xml" data="https://badges.gitter.im/lgblgblgb/xemu.svg" style="pointer-events: none;">Gitter</object></a> <a href="https://github.com/lgblgblgb/xemu-binaries/blob/master/README.md"><img src="https://img.shields.io/badge/download-master-%236060FF" alt="Download" class="inline"/></a> <a href="../.././LICENSE"><object type="image/svg+xml" data="https://img.shields.io/github/license/lgblgblgb/xemu.svg" style="pointer-events: none;">License: GPL-2.0</object></a> <a href="https://github.com/lgblgblgb/xemu/graphs/contributors"><object type="image/svg+xml" data="https://img.shields.io/github/contributors/lgblgblgb/xemu.svg" style="pointer-events: none;">Contributors</object></a> <a href="https://github.com/lgblgblgb/xemu/tree/dev"><img src="https://img.shields.io/github/last-commit/lgblgblgb/xemu/dev" alt="GitHub last commit (branch)" class="inline"/></a></p>
<p>Emulators running on Linux/Unix/Windows/OSX of various (mainly 8 bit) machines, including the Commodore LCD and Commodore 65 and MEGA65 as well.</p>
<p>Written by (C)2016-2020 LGB (Gábor Lénárt) <a href="#" onclick="location.href='mai'+'lto:'+'lgb'+'lg'+'blg'+'b@'+'gma'+'il'+'.co'+'m'; return false;">lgblg<span style="display: none;">.nosp@m.</span>blgb<span style="display: none;">.nosp@m.</span>@gmai<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a> Source repository: <a href="https://github.com/lgblgblgb/xemu">https://github.com/lgblgblgb/xemu</a></p>
<p>Xemu also contains code wasn't written by me. Please read this page to get to know more, also with my greeings for any kind of help from others: <a href="https://github.com/lgblgblgb/xemu/wiki/Copyright">https://github.com/lgblgblgb/xemu/wiki/Copyright</a></p>
<p>Xemu is licensed under the terms of GNU/GPL v2, for more information please read file LICENSE. You can find the source on github, see above.</p>
<p>Note: there is no serious logic about the set of emulated machines by the Xemu project. The only reason that I emulate these within a single project, that I can easily re-use some of the components needed, that's all! Also, the list of emulated machines is simply the preference of myself, what I would like to emulate, nothing special about my selection.</p>
<p>This file is only some place holder :) For some sane documentation, please <b>visit the wiki section of the project, here</b>:</p>
<p><a href="https://github.com/lgblgblgb/xemu/wiki">https://github.com/lgblgblgb/xemu/wiki</a></p>
<h1><a class="anchor" id="autotoc_md16"></a>
Most quick start (Xemu running in your web browser!)</h1>
<p>Just visit this page:</p>
<p><a href="http://xemu-dist.lgb.hu/dist/xemu-sample.html">http://xemu-dist.lgb.hu/dist/xemu-sample.html</a></p>
<p>Note: this kind of demonstration is <b>limited</b> (or <b>even broken</b>!), often not in pair with the native client for your OS (a "binary"), which - at the other hand - requires more work: installation, configuration, etc ... Also, currenty there can be problems with some emulators in this form (especially MEGA65).</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Quick start (using pre-built binaries)</h1>
<p><b>Plese note, that binaries on some older site of mine (especially on bintray.com, and xemu-dist.lgb.hu) can be OUTDATED. Currently to download up-to-date, ready-to-use Xemu binaries, you should go here:</b></p>
<p><a href="https://github.lgb.hu/xemu/">https://github.lgb.hu/xemu/</a></p>
<p>Or, if you'are more an insider-oriented to see various builds from branches, additional information, etc, you can go here (the same as above, but instead of direct links, a more in-depth view of the distribution repository):</p>
<p><a href="https://github.com/lgblgblgb/xemu-binaries/blob/master/README.md">https://github.com/lgblgblgb/xemu-binaries/blob/master/README.md</a></p>
<h2><a class="anchor" id="autotoc_md18"></a>
Windows</h2>
<p>You can find 32 and 64 bit windows based installers for Windows. No need to say, highly experimental (as I am not a windows user at all ...). You can also use the ZIP'ed versions, which are simply the needed exe + dll files, without any installer. Please carefully read the download page, about these, especially about the NSIS-related problem which causes <b>false positive</b> detections as <b>trojan/virus</b> by many antivirus software, unfortunately. If you don't believe me: <a href="https://nsis.sourceforge.io/NSIS_False_Positives">https://nsis.sourceforge.io/NSIS_False_Positives</a></p>
<p>Also, you can find ZIP archives on that page, contains only the executable files and the needed <code>DLL</code>, without any installer. This may also solve the false virus detection ...</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Linux</h2>
<p>On Linux, you can try the provided DEB pacakge to install, if you run Ubuntu (may work on other DEB based distriutions as well). There is an RPM package provided too, however that is simply a converted version of the DEB pakcage (with <code>alien</code>) so it may or may not work for you.</p>
<p>Work in progress to provide other - less distribution dependent - ways to install Xemu on Linux (other than compiling yourself), maybe in the form for <code>flatpak</code>, <code>AppImage</code> or something like that (though I really don't like <code>Snappy</code> ...) in the future.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
MacOS</h2>
<p>On MacOS, you want to use the MacOS build, of course. You can download a ZIP file, with a binary and a .dylib, they must be in the same directory!</p>
<p>You can also download DMG, however the maturity of my DMG is considered "low" currently.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Quick start (from source)</h1>
<p>For more information: <a href="https://github.com/lgblgblgb/xemu/wiki/Source">https://github.com/lgblgblgb/xemu/wiki/Source</a></p>
<h2><a class="anchor" id="autotoc_md22"></a>
Install software for compilation</h2>
<h3><a class="anchor" id="autotoc_md23"></a>
Example for Ubuntu Linux</h3>
<pre class="fragment">sudo apt update
sudo apt install git build-essential libsdl2-dev libgtk-3-dev libreadline-dev
</pre><h3><a class="anchor" id="autotoc_md24"></a>
Example for MacOS</h3>
<p>Assuming Apple development components and <code>homebrew</code> is already installed on your Mac: <a href="https://brew.sh/">https://brew.sh/</a> </p><pre class="fragment">brew update
brew install sdl2 wget git
</pre><p>Xemu should build with command: </p><pre class="fragment">make ARCH=osx
</pre><h3><a class="anchor" id="autotoc_md25"></a>
Raspberry Pi</h3>
<p>If you use some Linux distributions (probably Raspbian) on your Raspberry Pi, it should behave more or less the same way as a Linux distribution on your PC, so nothing special here.</p>
<p>However. If you plan to run Xemu without X11, you need a special build of SDL2 must be done by yourself first. This is because, SDL2 provides a way to run SDL2 applications on Raspberry without X11 ("RPI" architecture), however the standard Raspbian - as far as I know - provides only SDL2 library with X11 support (though I can be wrong, contant me, if you know more on this topic).</p>
<p>I've - of course - tested this and it worked, however it's hard to provide a binary build this way currently, and needs more "manual work" to compile Xemu, and even SDL2 before.</p>
<h3><a class="anchor" id="autotoc_md26"></a>
Bare metal?</h3>
<p>I received the idea to be able to run Xemu as a "bare-metal" project on Raspberry Pi for example. "Bare metal" means that it does not run an OS but uses the hardware directly, ie, Xemu needs to be booted instead of an OS. Surely, it's a kind of exciting route for me, but unfortunately I don't have too much time to play with this idea :(</p>
<h2><a class="anchor" id="autotoc_md27"></a>
Clone source respository</h2>
<pre class="fragment">git clone https://github.com/lgblgblgb/xemu.git
cd xemu
</pre><h2><a class="anchor" id="autotoc_md28"></a>
Compilation</h2>
<pre class="fragment">make
</pre><p>Optionally, to create binary DEBian .deb package for Ubuntu/Debian Linux, result will be built in build/bin (which can be installed with <code>dpkg -i</code>, followed by a <code>sudo xemu-download-data</code> which will download the data files as well, you can then execute emulators like <code>xemu-xmega65</code>): </p><pre class="fragment">make deb
</pre><p>To compile only (<code>make</code> in the top level directory will compile all of the targets automatically) a given emulator (let's say MEGA65): </p><pre class="fragment">cd targets
ls -l
cd mega65
make
cd ../..
</pre><p>Here, command <code>ls -l</code> is only for get a list of available targets (ie. the emulators included in the Xemu project).</p>
<p>Note: in case of MacOS, you may get tons of warning of invalid options during the compilation. This is harmless, and it's the sign of using CLANG for real with the command name <code>gcc</code>. To avoid them, instead of using plain <code>make</code>, use this: <code>make ARCH=osx</code>.</p>
<h2><a class="anchor" id="autotoc_md29"></a>
Run the binary</h2>
<pre class="fragment">ls -l build/bin/
</pre><p>to get a list of compiled binaries, like <code>xmega65.native</code> or <code>xc65.native</code>. You may want to copy those files to <code>/usr/local/bin</code> or such. Surely you can drop the .native ending. I also like to rename (done this way in the DEB package) to have names like <code>xemu-xmega65</code> and such to avoid "collusion" with other emulators in case of emulators with short names (probably).</p>
<p>Run one of them, like (the Commodore LCD emulator in this case): </p><pre class="fragment">build/bin/xclcd.native
</pre><h2><a class="anchor" id="autotoc_md30"></a>
Windows</h2>
<p>For building binary (exe) for Windows, you still need a UNIX-like environment (in theory WSL - Windows Subsystem for Linux - should be enough) for the compilation, with cross-compiler and SDL2 MinGW cross platform suite installed.</p>
<h3><a class="anchor" id="autotoc_md31"></a>
MSYS2 native build</h3>
<p>Note: this is probably the easier method for a Windows user, however this is <em>not the method we use to build official</em> binaries for Windows.</p>
<p>An easy way to build xemu under Windows is to use the <code>MSYS2</code> package which includes a full <code>MinGW</code> compiler, associated headers, tools , and a nice package management utility for easy installation of required components: <code>Pacman</code>, popular in Arch Linux based distributions.</p>
<p>The following steps are based on a Windows 10 x64 system.</p>
<ul>
<li>Download the executable installer in <a href="https://www.msys2.org">https://www.msys2.org</a> for x86-64 architecture.</li>
<li>Install on the default location.</li>
<li>Execute the MSYS2 MinGW 64bit system prompt at the end of the installation, or via your Start Menu.</li>
</ul>
<p>At the command prompt, ensure you have the latest repositories by doing: </p><pre class="fragment">pacman -Syu
</pre><p>Restart the prompt if needed, and finish installing remaining packages with: </p><pre class="fragment">pacman -Su
</pre><p>Now we can install the GCC compiler and required packages to build xemu with one command executed: </p><pre class="fragment">pacman -S make mingw-w64-x86_64-toolchain mingw-w64-x86_64-SDL2 
</pre><p>Build the native Windows executables by issuing: </p><pre class="fragment">make ARCH=nativewin
</pre><p>You can find the executables, with <code>.nativewin</code> extension, in the <code>build/bin</code> directory. Surely, you can (and maybe you want) rename that to have extension <code>.exe</code>.</p>
<h3><a class="anchor" id="autotoc_md32"></a>
Alternative method (Cross-compilation)</h3>
<p>Note: this is the <em>official method we use to build official binaries for Windows</em>.</p>
<p>For Ubuntu (and probably other DEB based distros, this also includes of course WSL if Ubuntu is used as the guest) you can install mingw by: </p><pre class="fragment">apt-get install binutils-mingw-w64-i686 binutils-mingw-w64-x86-64 gcc-mingw-w64-i686 gcc-mingw-w64-x86-64
</pre><p>Then, you need to install mingw-specific SDL2 development suite, download, modify its Makefile probably, install it, create compatibility symlinks for Xemu ... If you trust into the version Xemu uses, probably it's better to do the task with a single command. It needs you to be at the top directory of the downloaded or cloned Xemu repository. You may want to run this as root, or at least you need to have <code>sudo</code> capabilities. The command: </p><pre class="fragment">build/install-cross-win-mingw-sdl-on-linux.sh /usr/local/bin
</pre><p>This command will install stuffs in <code>/usr/local/cross-tools</code> (regardless of the parameter!) and create symlinks in <code>/usr/local/bin</code>. If it's not in your <code>PATH</code> by default, you may need to put it, or use different argument than <code>/usr/local/bin</code>.</p>
<p>Then you can say the following for 32 bit or 64 bit build process (in general, 32 bit version should be avoided on any OS - for performance reasons as well): </p><pre class="fragment">make ARCH=win32
make ARCH=win64
</pre><p>In <code>build/bin</code> you'll find files like <code>*.win32</code> and <code>*.win64</code>, they are <code>exe</code> files for real, you can rename and copy them to a Windows box to be able to run them using Windows only (you also need the specific <code>SDL2.dll</code> though - those can be found at the same directory where the given - 32 or 64 bit - <code>sdl2-config</code> script is from the development SDL2 stuff you've installed). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
