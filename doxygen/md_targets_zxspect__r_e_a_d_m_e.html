<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xemu ~ source level documentation: ZX Spectrum emulator try ...</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xemu-48x48.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xemu ~ source level documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ZX Spectrum emulator try ... </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Since I've never had a ZX Spectrum (still, I always wanted to own that, but it never happened unfortunately), I've decided to try to learn something about it. I guess, the best way is trying to emulate it, as always, in my case :-)</p>
<p>Currently, only 48K spectrum is planned to be emulated, with the absolutely minimum features.</p>
<p><em>WARNING</em>: currently this emulator is simply unusable, even the display is totally wrong, not to mention the timing, and the ability to load something at least, also the lack of sound, and so on ...</p>
<p>Please note, that I almost know nothing about this machine, and I try to do write an emulator by reading specifications and descriptions on this machine. For at least a small amount accuracy, I'm trying to emulate contended memory in a sane way at least, though available documents on the ULA are really confusing.</p>
<p>For example, documents state that 64 lines (224 T-states for each) passes till the first pixel is displayed. But as far as I see it cannot be, as the left border is still there, so 64 lines + T-states for 48 pixels (24 T-states) it should be ... Also I have very similar problems trying to implement the floating bus by the correct time ULA reading screen/attribute memory. Again documents cannot be interpreted by me in the sane way, as it seems it's an impossible situation: ULA reads memory <em>after</em> it already displayed pixel from that info? WTF??</p>
<p>I'm trying to use these resources:</p>
<ul>
<li><a href="http://www.worldofspectrum.org/faq/reference/48kreference.htm">http://www.worldofspectrum.org/faq/reference/48kreference.htm</a></li>
<li><a href="http://faqwiki.zxnet.co.uk/wiki/Contended_memory">http://faqwiki.zxnet.co.uk/wiki/Contended_memory</a></li>
<li><a href="http://faqwiki.zxnet.co.uk/wiki/Contended_I/O">http://faqwiki.zxnet.co.uk/wiki/Contended_I/O</a></li>
<li><a href="http://faqwiki.zxnet.co.uk/wiki/Floating_bus">http://faqwiki.zxnet.co.uk/wiki/Floating_bus</a></li>
<li><a href="http://faqwiki.zxnet.co.uk/wiki/Spectrum_Video_Modes">http://faqwiki.zxnet.co.uk/wiki/Spectrum_Video_Modes</a></li>
<li><a href="http://faqwiki.zxnet.co.uk/wiki/ULAplus">http://faqwiki.zxnet.co.uk/wiki/ULAplus</a></li>
</ul>
<p>Please help me, with better - error free - resources, since these seem to describe impossible situations. For example:</p>
<p><a href="http://faqwiki.zxnet.co.uk/wiki/Floating_bus">http://faqwiki.zxnet.co.uk/wiki/Floating_bus</a> mentions that ULA reads screen memory at 0x4000 at T-state (after interrupt) 14338. However this <a href="http://www.worldofspectrum.org/faq/reference/48kreference.htm">http://www.worldofspectrum.org/faq/reference/48kreference.htm</a> states that the first pixel is displayed at T-state 14336. You see the problem, it's impossible to display it, when it's two T-states in the future to even read that information ...</p>
<p>Support for ULAplus is planned, though I should learn first, how the original ULA works exactly at T-state precision. :-)</p>
<p>One of the reason of this project, that I have the crazy goal to try to write a ZX Spectrum emulator for Mega-65 (!!) even if it cannot be cycle exact, well, far from it. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
