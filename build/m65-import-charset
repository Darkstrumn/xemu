#!/bin/sh
exec gawk '
BEGIN {
	print "/*\tFrom mega65-core, charrom.vhdl, initial charset"
	print "\tMore information: https://github.com/MEGA65/mega65-core"
	print "\tThis also functions as the \"Character WOM\" (Write-Only Memory) for VIC-IV,"
	print "\twith the following pre-initialized values."
	print "\tYou can force to re-import this file, by deleting it.\t*/"
	print "Uint8 char_wom[0x1000] = {"
}
/^[\t ]*[xX]"/ {
	$0 = toupper($0)
	gsub("X\"","0x",$0)
	gsub("\"","",$0)
	print "\t" $0
}
END {
	print "};"
}
'
