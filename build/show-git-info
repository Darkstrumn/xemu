#!/bin/bash

remote=`git config --get remote.origin.url`

if [ "$TRAVIS_BRANCH" = "" ]; then
	branch=`git branch | awk 'BEGIN { s = "UNKNOWN" } $1 = "*" { s = $2 } END { print s }'`
	if [ "$branch" = "" ]; then
		branch="unknown_branch"
	fi
else
	branch="$TRAVIS_BRANCH"
fi

if [ "$TRAVIS_COMMIT" = "" ]; then
	commit=`git rev-parse HEAD`
	if [ "$commit" = "" ]; then
		commit="unknown_commit_id"
	fi
else
	commit="$TRAVIS_COMMIT"
fi

echo "$remote $branch $commit"

exit 0
